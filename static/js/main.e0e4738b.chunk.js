(this["webpackJsonpopenplay-test-app"]=this["webpackJsonpopenplay-test-app"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),c=n(60),a=n(16),o=n(105),l=n.n(o),s=(n(122),n(123),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))}),u=n(4),d=n(210),j=n(8),p=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],f=function(e){var t=e.tagName;return Object(j.jsx)(d.a,{color:p[Math.floor(Math.random()*p.length)],children:t})},h=n(204),O=n(205),b=n(1),v=function(e){var t=e.children,n=e.style;return Object(j.jsx)("section",{style:Object(b.a)({display:"flex",justifyContent:"center",alignItems:"center"},n),children:t})},x=function(e){var t=e.onClick,n=e.title,i=e.children;return Object(j.jsx)(h.a,{hoverable:!0,headStyle:{display:"flex",justifyContent:"center"},style:{margin:"1rem 0"},onClick:t,title:n,cover:Object(j.jsx)(O.a,{width:300,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),children:Object(j.jsx)(v,{children:i})})},g=function(e){var t=e.facility,n=Object(a.f)();return Object(j.jsx)(x,{onClick:function(){return n("/activities/".concat(null===t||void 0===t?void 0:t.id))},title:null===t||void 0===t?void 0:t.name,children:(null===t||void 0===t?void 0:t.tags)&&t.tags.map((function(e){return Object(j.jsx)(f,{tagName:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})},m=n(202),y=n(207),w=function(e){var t=e.isLoading,n=e.error;return t?Object(j.jsx)(v,{style:{height:"100vh"},children:Object(j.jsx)(m.a,{size:"large"})}):n?Object(j.jsx)(v,{style:{height:"100vh"},children:Object(j.jsx)(y.a,{message:"There was an error",type:"error"})}):Object(j.jsx)(j.Fragment,{})},S=n(108),k=function(e,t,n){return"text"===n?e.sort((function(e,n){return e[t].localeCompare(n[t])})):e.sort((function(e,n){return new Date("1970/01/01 "+e[t])-new Date("1970/01/01 "+n[t])}))},C=function(e,t,n){var i=[],r=[];return e.forEach((function(e){return e[t].forEach((function(e){i.includes(e[n])||(i.push(e[n]),r.push(e))}))})),r},I=n(31),L=n(45),D=function(e){var t=Object(i.useState)(null),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)(!1),o=Object(u.a)(a,2),l=o[0],s=o[1],d=Object(i.useState)(""),j=Object(u.a)(d,2),p=j[0],f=j[1],h=function(){var t=Object(L.a)(Object(I.a)().mark((function t(){var n,i,r;return Object(I.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return i=t.sent,t.next=7,i.json();case 7:if(t.t1=n=t.sent,t.t0=null===t.t1,t.t0){t.next=11;break}t.t0=void 0===n;case 11:if(!t.t0){t.next=15;break}t.t2=void 0,t.next=16;break;case 15:t.t2=n.data;case 16:r=t.t2,c(r),t.next=24;break;case 20:t.prev=20,t.t3=t.catch(1),console.log(t.t3,"err"),f(t.t3);case 24:return t.prev=24,s(!1),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[1,20,24,27]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){h()}),[e]),{data:r,isLoading:l,error:p}},F=n(209),A=F.a.Option,E=function(e){var t=e.dropdownOptions,n=e.setSelectedOption;return Object(j.jsxs)(F.a,{style:{width:120},onChange:function(e){n("All"===e?null:e)},defaultValue:"All",children:[Object(j.jsx)(A,{value:"All",children:"All"}),t&&t.map((function(e){return Object(j.jsx)(A,{value:null===e||void 0===e?void 0:e.id,children:e.name},null===e||void 0===e?void 0:e.id)}))]})},T=n(208),M=function(e){var t=e.setInputValue;return Object(j.jsx)(T.a,{placeholder:"Please type a word",onChange:function(e){return t(e.target.value)}})},N=function(e){var t=e.dropdownOptions,n=e.setSelectedOption,i=e.setInputValue;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{dropdownOptions:t,setSelectedOption:n}),Object(j.jsx)(M,{setInputValue:i})]})},V=function(e){var t=e.selectedTag,n=e.searchKeyword,r=e.originalArray,c=e.filterOptions,a=Object(i.useMemo)((function(){return t?function(e,t,n,i){var r=[];return e.map((function(e){e[t].find((function(e){return e[n]===i}))&&r.push(e)})),r}(r,"tags","id",t):[]}),[t]),o=Object(i.useMemo)((function(){return n?function(e,t,n){var i=new S.a(e,{keys:[t]}).search(n),r=[];return i.forEach((function(e){return r.push(null===e||void 0===e?void 0:e.item)})),r}(r,"name",n):[]}),[n]);return{filteredData:Object(i.useMemo)((function(){return t&&n?k(function(e,t,n){var i=[],r=[];return e.forEach((function(e){i.includes(e[n])||i.push(e[n])})),t.forEach((function(e){i.includes(e[n])&&r.push(e)})),r}(o,a,"id"),c.prop,c.type):n?o:t?a:r?k(r,c.prop,c.type):void 0}),[n,t,r])}},P=function(){var e=D("facilities.json"),t=e.data,n=e.isLoading,r=e.error,c=t&&k(C(t,"tags","id"),"name","text"),a=Object(i.useState)(null),o=Object(u.a)(a,2),l=o[0],s=o[1],d=Object(i.useState)(null),p=Object(u.a)(d,2),f=p[0],h=p[1],O=V({selectedTag:l,searchKeyword:f,originalArray:t,filterOptions:{prop:"name",type:"string"}}).filteredData,b=O&&k(O,"name","text");return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{style:{height:"10vh"},children:Object(j.jsx)(N,{setSelectedOption:s,setInputValue:h,dropdownOptions:c})}),Object(j.jsx)(w,{isLoading:n,error:r}),Object(j.jsx)(v,{style:{flexDirection:"column"},children:b&&b.length>0?b.map((function(e){return Object(j.jsx)(g,{facility:e},null===e||void 0===e?void 0:e.id)})):Object(j.jsx)("section",{children:"No Results"})})]})},_=n(206).a.Text,K=function(e){var t=e.activity;return Object(j.jsx)(x,{title:null===t||void 0===t?void 0:t.name,children:Object(j.jsxs)(v,{style:{flexDirection:"column"},children:[Object(j.jsxs)(_,{strong:!0,children:["Start time: ",null===t||void 0===t?void 0:t.start_time]}),Object(j.jsxs)(_,{strong:!0,children:[" End time: ",null===t||void 0===t?void 0:t.end_time]}),Object(j.jsxs)(_,{strong:!0,children:["Level: ",null===t||void 0===t?void 0:t.level]}),Object(j.jsxs)(_,{strong:!0,children:["Location: ",null===t||void 0===t?void 0:t.location]}),Object(j.jsx)(v,{style:{margin:"0.5rem 0"},children:(null===t||void 0===t?void 0:t.tags)&&t.tags.map((function(e){return Object(j.jsx)(f,{tagName:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})})},R=function(){var e=Object(a.g)().facilityId,t=D("activities.json"),n=t.data,r=t.isLoading,c=t.error,o=n&&k(C(n,"tags","id"),"name","text"),l=Object(i.useState)(null),s=Object(u.a)(l,2),d=s[0],p=s[1],f=Object(i.useState)(null),h=Object(u.a)(f,2),O=h[0],b=h[1],x=V({selectedTag:d,searchKeyword:O,originalArray:n,filterOptions:{prop:"start_time",type:"time"}}).filteredData,g=x&&x.filter((function(t){return t.facility_id===Number(e)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{style:{height:"10vh"},children:Object(j.jsx)(N,{setSelectedOption:p,setInputValue:b,dropdownOptions:o})}),Object(j.jsx)(w,{isLoading:r,error:c}),Object(j.jsx)(v,{style:{flexDirection:"column"},children:g&&g.length>0?g.map((function(e){return Object(j.jsx)(K,{activity:e},null===e||void 0===e?void 0:e.id)})):Object(j.jsx)("section",{children:"No Results"})})]})};l.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(c.a,{children:Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{path:"/",element:Object(j.jsx)(P,{})}),Object(j.jsx)(a.a,{path:"/activities/:facilityId",element:Object(j.jsx)(R,{})})]})})})),s()}},[[199,1,2]]]);
//# sourceMappingURL=main.e0e4738b.chunk.js.map